{erl_opts, [debug_info]}.

%% Xref configuration - ignore unused exports (these are public API)
{xref_checks, [
    undefined_function_calls,
    undefined_functions,
    locals_not_used,
    deprecated_function_calls,
    deprecated_functions
]}.

%% Dialyzer configuration
{dialyzer, [
    {warnings, [
        unmatched_returns,
        error_handling
    ]},
    {plt_extra_apps, [cowboy, ranch]}
]}.

{deps, [
    {cowboy, "2.12.0"},
    {erlang_python, "1.5.0"}
]}.

{shell, [
    {config, "config/sys.config"},
    {apps, [hornbeam]}
]}.

{relx, [{release, {hornbeam, "1.3.0"},
         [hornbeam,
          sasl]},

        {mode, dev},

        {extended_start_script, true}]}.

{profiles, [
    {test, [
        {deps, [
            {hackney, "3.0.2"},
            {jsx, "3.1.0"}
        ]}
    ]}
]}.

{project_plugins, [rebar3_ex_doc]}.

{hex, [{doc, ex_doc}]}.

{ex_doc, [
    {source_url, <<"https://github.com/benoitc/hornbeam">>},
    {homepage_url, <<"https://hornbeam.dev">>},
    {main, <<"readme">>},
    {extras, [
        <<"README.md">>,
        <<"CHANGELOG.md">>,
        <<"docs/getting-started.md">>,
        <<"docs/guides/wsgi.md">>,
        <<"docs/guides/asgi.md">>,
        <<"docs/guides/websocket.md">>,
        <<"docs/guides/erlang-integration.md">>,
        <<"docs/guides/ml-integration.md">>,
        <<"docs/guides/hooks.md">>,
        <<"docs/guides/custom-apps.md">>,
        <<"docs/guides/distributed-rpc.md">>,
        <<"docs/guides/erlang-apps.md">>,
        <<"docs/guides/benchmarking.md">>,
        <<"docs/examples/flask-app.md">>,
        <<"docs/examples/fastapi-app.md">>,
        <<"docs/examples/websocket-chat.md">>,
        <<"docs/examples/embedding-service.md">>,
        <<"docs/examples/distributed-ml.md">>,
        <<"docs/reference/configuration.md">>,
        <<"docs/reference/python-api.md">>
    ]},
    {groups_for_extras, [
        {<<"Getting Started">>, [
            <<"docs/getting-started.md">>
        ]},
        {<<"Guides">>, [
            <<"docs/guides/wsgi.md">>,
            <<"docs/guides/asgi.md">>,
            <<"docs/guides/websocket.md">>,
            <<"docs/guides/erlang-integration.md">>,
            <<"docs/guides/ml-integration.md">>,
            <<"docs/guides/hooks.md">>,
            <<"docs/guides/custom-apps.md">>,
            <<"docs/guides/distributed-rpc.md">>,
            <<"docs/guides/erlang-apps.md">>,
            <<"docs/guides/benchmarking.md">>
        ]},
        {<<"Examples">>, [
            <<"docs/examples/flask-app.md">>,
            <<"docs/examples/fastapi-app.md">>,
            <<"docs/examples/websocket-chat.md">>,
            <<"docs/examples/embedding-service.md">>,
            <<"docs/examples/distributed-ml.md">>
        ]},
        {<<"Reference">>, [
            <<"docs/reference/configuration.md">>,
            <<"docs/reference/python-api.md">>
        ]}
    ]}
]}.
