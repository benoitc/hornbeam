%% Copyright 2026 Benoit Chesneau
%% Licensed under the Apache License, Version 2.0

{erl_opts, [debug_info]}.

%% hornbeam is provided via _checkouts symlink for local dev
{deps, [
    {erlang_python, {git, "https://github.com/benoitc/erlang-python.git", {branch, "main"}}},
    {hornbeam, {git, "https://github.com/benoitc/hornbeam.git", {branch, "main"}}}
]}.

{relx, [
    {release, {ml_caching, "0.1.0"}, [
        ml_caching,
        hornbeam,
        erlang_python,
        sasl
    ]},
    {dev_mode, false},
    {include_erts, true},
    {extended_start_script, true},
    {sys_config, "config/sys.config"},
    {overlay, [
        {copy, "priv", "priv"}
    ]}
]}.

{profiles, [
    {prod, [
        {relx, [
            {dev_mode, false},
            {include_erts, true}
        ]}
    ]}
]}.
